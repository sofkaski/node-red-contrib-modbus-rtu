<script type="text/javascript">
    RED.nodes.registerType('modbus-rtu-config',{
        category: 'config',
        color: '#a6bbcf',
        defaults: {
            unit_id: {value: "1", required: true, validate: RED.validators.number()},
            serial_device: {value: "/dev/ttyUSB0", required: true},
            serial_speed: {value: 9600, required: true, validate: RED.validators.number()},
            serial_parity: {value: "none", required: true},
            serial_databits: {value: 8, required: true, validate: RED.validators.number()},
            serial_stopbits: {value: 1, required: true, validate: RED.validators.number()},
            modbus_end_packet_timeout: {value: 35, required: true, validate: RED.validators.number()},
            modbus_queue_timeout: {value: 50, required: true, validate: RED.validators.number()},
            modbus_response_timeout: {value: 500, required: true, validate: RED.validators.number()}

        },
        inputs:0,
        outputs:0,
        icon: "modbus-rtu-icon.png",
        label: function() {
            var unit = this.unit_id || "<undefined>"
            return "modbus" + this.unit_id;
        }


    });
</script>

<script type="text/x-red" data-template-name="modbus-rtu-config">
    <div class="form-row">
        <label for="node-config-input-unit_id"><i class="icon-bookmark"></i> Unit Id</label>
        <input type="number" id="node-config-input-unit_id">
    </div>
    <div class="form-row">
        <label for="node-config-input-serial_device"><i class="icon-bookmark"></i> Serial Device</label>
        <input type="text" id="node-config-input-serial_device">
    </div>
    <div class="form-row">
        <label for="node-config-input-serial_speed"><i class="icon-bookmark"></i> Serial Speed</label>
        <input type="number" id="node-config-input-serial_speed">
    </div>
    <div class="form-row">
        <label for="node-config-input-serial_parity"><i class="icon-bookmark"></i> Parity</label>
        <input type="text" id="node-config-input-serial_parity">
    </div>
    <div class="form-row">
        <label for="node-config-input-serial_databits"><i class="icon-bookmark"></i> Data Bit Count</label>
        <input type="number" id="node-config-input-serial_databits">
    </div>
    <div class="form-row">
        <label for="node-config-input-serial_stopbits"><i class="icon-bookmark"></i> Stop Bit Count</label>
        <input type="number" id="node-config-input-serial_stopbits">
    </div>
    <div class="form-row">
        <label for="node-config-input-modbus_end_packet_timeout"><i class="icon-bookmark"></i> Modbus end packet timeout (ms)</label>
        <input type="number" id="node-config-input-modbus_end_packet_timeout">
    </div>
    <div class="form-row">
        <label for="node-config-input-modbus_modbus_queue_timeout"><i class="icon-bookmark"></i> Modbus queue timeout (ms)</label>
        <input type="number" id="node-config-input-modbus_queue_timeout">
    </div>
    <div class="form-row">
        <label for="node-config-input-modbus_modbus_response_timeout"><i class="icon-bookmark"></i> Modbus response timeout (ms)</label>
        <input type="number" id="node-config-input-modbus_response_timeout">
    </div>

</script>
<script type="text/x-red" data-help-name="modbus-rtu-config">
   <p>Contains configuration parameters of modbus instance.</p>
  </script>
